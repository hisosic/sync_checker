# Blockchain Sync Checker

## 개요
이 프로그램은 블록체인 동기화 상태를 확인하는 도구입니다. 블록체인 네트워크의 상태를 모니터링하여 동기화 시간과 블록 차이를 표시합니다.

## 사용 방법
프로그램은 명령줄에서 실행할 수 있습니다. 다음과 같은 방법으로 실행할 수 있습니다.

```
python3 checker.py [URL] [-n NETWORK] [-v] [-c COUNT]
```

- `URL`: 모니터링할 피어의 URL입니다. 기본값은 `localhost:9000`입니다.
- `-n NETWORK`, `--network NETWORK`: 상위 네트워크의 종류를 지정합니다. 가능한 값은 `mainnet`, `berlin`, `sejong`, `lisbon`, `havah`, `vega`입니다. 기본값은 `mainnet`입니다.
- `-v`, `--verbose`: 자세한 출력 모드로 설정합니다. 레벨에 따라 자세한 정보가 출력됩니다.
- `-c COUNT`, `--count COUNT`: 확인 주기를 설정합니다. 주기는 초 단위로 지정됩니다. 0으로 설정하면 무한히 실행됩니다.

## 설치 및 실행 환경
프로그램을 실행하기 위해서는 Python 3가 설치되어 있어야 합니다. 다음과 같이 종속성을 설치할 수 있습니다.

```
pip install termcolor requests
```

프로그램을 실행하려면 다음과 같이 실행하면 됩니다.
```
python3 checker.py
```


## 작동 방식
프로그램은 지정된 URL에 대해 블록체인의 상태를 주기적으로 확인합니다. 또한 상위 네트워크의 상태도 확인합니다.

1. 프로그램이 실행되면 주어진 URL에 대한 초기 블록 높이와 이전 시간을 가져옵니다.
2. 주기적으로 현재 블록 높이와 시간을 가져오고, 상위 네트워크의 블록 높이와 시간을 가져옵니다.
3. 블록 차이, 동기화 속도, 예상 완료 블록 높이 및 예상 완료 시간을 계산합니다.
4. 현재 상태를 색상으로 표시하여 출력합니다.
5. 주어진 주기까지 2-4단계를 반복합니다.

## 참고 사항
- 이 프로그램은 주어진 URL에 대한 블록체인 상태를 가져오기 위해 Loopchain API를 사용합니다.
- 프로그램은 SSL 경고를 비활성화하고, HTTPS 연결을 HTTP로 변환하기 위해 `append_http` 함수를 사용합니다.
- 프로그램은 `termcolor`와 `requests` 라이브러리를 사용합니다.
- 프로그램은 사용자의 입력에 따라 실행되는 옵션을 지원합니다.
- 프로그램을 중지하려면 `Ctrl+C`를 누르십시오. 중지 시 프로그램은 정상적으로 종료됩니다.
